# Patches file definition list:
# For example, the lines:
#        clang            clang/include/clang/Basic/CodeGenOptions.def
#        lld-propeller    lld/ELF/CMakeLists.txt
#
# generates diff for CodeGenOptions.def >> clang.patch
# generates diff for CMakeLists.txt >> lld-propeller.patch
# respectively.

declare ALL_FILES=(
# clang patches starts
# clang-uif - unique internal funcs
# clang-rws - relocate with symbols
# clang-pro - Propeller
# clang-sta - clang Standalone
        clang-base       clang/include/clang/Basic/CodeGenOptions.def
        clang-rws        clang/include/clang/Basic/CodeGenOptions.def
        clang-base       clang/include/clang/Basic/CodeGenOptions.h
        clang-rws        clang/include/clang/Driver/CC1Options.td
        clang-base       clang/include/clang/Driver/Options.td
        clang-pro        clang/include/clang/Driver/Options.td
        clang-base       clang/lib/CodeGen/BackendUtil.cpp
        clang-sta        clang/lib/CodeGen/CGDeclCXX.cpp
        clang-base       clang/lib/Driver/ToolChains/Clang.cpp
        clang-rws        clang/lib/Driver/ToolChains/Clang.cpp
        clang-uif        clang/include/clang/Basic/CodeGenOptions.def
        clang-uif        clang/include/clang/Driver/Options.td
        clang-uif        clang/lib/Driver/ToolChains/Clang.cpp
	clang-uif        clang/docs/UsersManual.rst
        clang-uif        clang/lib/Frontend/CompilerInvocation.cpp
        clang-uif        clang/test/CodeGen/unique-internal-linkage-names.cpp
        clang-uif2       clang/test/CodeGen/unique-internal-linkage-names2.c
	clang-uif        clang/test/Driver/funique-internal-linkage-names.c
	llvm-uif         llvm/lib/Transforms/Utils/UniqueInternalLinkageNames.cpp
	llvm-uif         llvm/include/llvm/Transforms/Utils/UniqueInternalLinkageNames.h
	llvm-uif         llvm/include/llvm/InitializePasses.h
	llvm-uif         llvm/include/llvm/Transforms/Utils.h
	llvm-uif         llvm/lib/Transforms/Utils/CMakeLists.txt
	llvm-uif         llvm/utils/gn/secondary/llvm/lib/Transforms/Utils/BUILD.gn
        clang-pro        clang/lib/Driver/ToolChains/Gnu.cpp
        clang-base       clang/lib/Frontend/CompilerInvocation.cpp
        clang-rws        clang/lib/Frontend/CompilerInvocation.cpp
        clang-base       clang/test/CodeGen/basicblock-sections.c
        clang-base       clang/test/CodeGen/basicblock-sections.funcnames
	clang-base       clang/test/Driver/funique-bb-section-names.c
	clang-base       clang/test/Driver/fbasicblock-sections.c
        clang-pro        clang/test/Driver/propeller-flags.c
        clang-rws        clang/tools/driver/cc1as_main.cpp
        compiler-rt      compiler-rt/lib/sanitizer_common/sanitizer_asm.h
# lld starts from here
        lld-other        lld/test/ELF/bb-cluster-sections-optimize-jumps.s
        lld-bb           lld/ELF/Arch/X86_64.cpp
        lld-bb           lld/ELF/Config.h
        lld-bb           lld/ELF/Driver.cpp
        lld-bb           lld/ELF/InputSection.cpp
        lld-bb           lld/ELF/InputSection.h
        lld-bb           lld/ELF/LTO.cpp
        lld-bb           lld/ELF/Options.td
        lld-bb           lld/ELF/OutputSections.cpp
        lld-bb           lld/ELF/Relocations.h
        lld-bb           lld/ELF/SyntheticSections.cpp
        lld-bb           lld/ELF/SyntheticSections.h
        lld-bb           lld/ELF/Target.h
        lld-bb           lld/ELF/Writer.cpp
        lld-bb           lld/test/ELF/bb-sections-optimize-jumps.s
        lld-bb           lld/test/ELF/bb-sections-padding.s
        lld-bb           lld/test/ELF/bb-sections-shrink-jumps-aligned.s
        lld-bb           lld/test/ELF/bb-sections-shrink-jumps.s
        lld-bb           lld/test/ELF/bb-sections-shrink-noshrink-jumps-aligned.s
        lld-bb           lld/test/ELF/lto/linker-script-symbols-ipo.ll
        lld-bb           lld/test/ELF/lto/wrap-2.ll
        lld-bb           lld/test/ELF/wrap-plt.s
        lld-bb           lld/test/ELF/x86-64-plt.s
# lld propeller
        lld-propeller    lld/ELF/CMakeLists.txt
        lld-propeller    lld/ELF/LinkerPropeller.cpp
        lld-propeller    lld/ELF/LinkerPropeller.h
        lld-propeller    lld/ELF/Propeller/CMakeLists.txt
        lld-propeller    lld/ELF/Propeller/Propeller.cpp
        lld-propeller    lld/ELF/Propeller/Propeller.h
        lld-propeller    lld/ELF/Propeller/PropellerCFG.cpp
        lld-propeller    lld/ELF/Propeller/PropellerCFG.h
        lld-propeller    lld/ELF/Propeller/PropellerConfig.h
        lld-propeller    lld/ELF/Propeller/PropellerProtobuf.cpp
        lld-propeller    lld/ELF/Propeller/PropellerProtobuf.h
        lld-propeller    lld/ELF/Propeller/README.md
        lld-propeller    lld/ELF/Propeller/propeller_cfg.proto
        lld-propeller    lld/include/lld/Common/PropellerCommon.h
        lld-propeller    lld/test/ELF/propeller/Inputs/bad-propeller-1.data
        lld-propeller    lld/test/ELF/propeller/Inputs/bad-propeller-2.data
        lld-propeller    lld/test/ELF/propeller/Inputs/bad-propeller-3.data
        lld-propeller    lld/test/ELF/propeller/Inputs/bad-propeller-4.data
        lld-propeller    lld/test/ELF/propeller/Inputs/bad-propeller-5.data
        lld-propeller    lld/test/ELF/propeller/Inputs/propeller-2.data
        lld-propeller    lld/test/ELF/propeller/Inputs/propeller-3.data
        lld-propeller    lld/test/ELF/propeller/Inputs/propeller.data
        lld-propeller    lld/test/ELF/propeller/Inputs/sample.c
        lld-propeller    lld/test/ELF/propeller/propeller-bad-profile-1.s
        lld-propeller    lld/test/ELF/propeller/propeller-bad-profile-2.s
        lld-propeller    lld/test/ELF/propeller/propeller-bad-profile-3.s
        lld-propeller    lld/test/ELF/propeller/propeller-bad-profile-4.s
        lld-propeller    lld/test/ELF/propeller/propeller-bad-profile-5.s
        lld-propeller    lld/test/ELF/propeller/propeller-bbsections-dump.s
        lld-propeller    lld/test/ELF/propeller/propeller-compressed-strtab-lto.s
        lld-propeller    lld/test/ELF/propeller/propeller-compressed-strtab.s
        lld-propeller    lld/test/ELF/propeller/propeller-error-on-bblabels.s
        lld-propeller    lld/test/ELF/propeller/propeller-keep-bb-symbols.s
        lld-propeller    lld/test/ELF/propeller/propeller-lto-bbsections-dump.s
        lld-propeller    lld/test/ELF/propeller/propeller-skip.s
        lld-propeller    lld/test/ELF/propeller/propeller-symbol-order-dump.s
# Reorder
        lld-reorder      lld/ELF/Propeller/CodeLayout/ModifiablePriorityQueue.h
        lld-reorder      lld/ELF/Propeller/CodeLayout/NodeChain.h
        lld-reorder      lld/ELF/Propeller/CodeLayout/NodeChain.cpp
        lld-reorder      lld/ELF/Propeller/CodeLayout/NodeChainAssembly.h
        lld-reorder      lld/ELF/Propeller/CodeLayout/NodeChainAssembly.cpp
        lld-reorder      lld/ELF/Propeller/CodeLayout/CodeLayout.cpp
        lld-reorder      lld/ELF/Propeller/CodeLayout/CodeLayout.h
        lld-reorder      lld/ELF/Propeller/CodeLayout/NodeChainBuilder.h
        lld-reorder      lld/ELF/Propeller/CodeLayout/NodeChainBuilder.cpp
        lld-reorder      lld/ELF/Propeller/CodeLayout/NodeChainClustering.h
        lld-reorder      lld/ELF/Propeller/CodeLayout/NodeChainClustering.cpp
        lld-reorder      lld/test/ELF/propeller/codelayout/function-ordering.s
        lld-reorder      lld/test/ELF/propeller/codelayout/function-with-loop.s
        lld-reorder      lld/test/ELF/propeller/codelayout/optimal-fallthrough.s
        lld-reorder      lld/test/ELF/propeller/codelayout/opt-all-combinations.s
#lld-base patch
        lld-base         lld/ELF/Arch/X86_64.cpp
        lld-base         lld/ELF/Config.h
        lld-base         lld/ELF/Driver.cpp
        lld-base         lld/ELF/InputSection.cpp
        lld-base         lld/ELF/InputSection.h
        lld-base         lld/ELF/LTO.cpp
        lld-base         lld/ELF/Options.td
        lld-base         lld/ELF/OutputSections.cpp
	lld-base         lld/ELF/Relocations.h
        lld-base         lld/ELF/Target.h
        lld-base         lld/ELF/Writer.cpp
	lld-base         lld/test/ELF/bb-cluster-sections-optimize-jumps.s
	lld-base         lld/test/ELF/bb-sections-delete-fallthru.s
	lld-base         lld/test/ELF/bb-sections-and-icf.s
	lld-base         lld/test/ELF/bb-sections-pc32reloc.s
# LLVM patch begins here.
# Base Patch files here:
        bbclusters           llvm/include/llvm/CodeGen/AsmPrinter.h
        bbclusters           llvm/include/llvm/CodeGen/MachineBasicBlock.h
        bbclusters           llvm/include/llvm/CodeGen/MachineFunction.h
	bbclusters           llvm/include/llvm/CodeGen/TargetLoweringObjectFileImpl.h
	bbclusters           llvm/include/llvm/Target/TargetLoweringObjectFile.h
        bbclusters           llvm/lib/CodeGen/AsmPrinter/AsmPrinter.cpp
	bbclusters           llvm/lib/CodeGen/BBSectionsPrepare.cpp
	bbclusters           llvm/lib/CodeGen/CodeGen.cpp
        bbclusters           llvm/lib/CodeGen/MachineBasicBlock.cpp
        bbclusters           llvm/lib/CodeGen/MachineFunction.cpp
	bbclusters           llvm/lib/CodeGen/MIRParser/MIParser.cpp
	bbclusters           llvm/lib/CodeGen/MIRParser/MIRParser.cpp
	bbclusters           llvm/lib/CodeGen/MIRPrinter.cpp
	bbclusters           llvm/lib/CodeGen/TargetLoweringObjectFileImpl.cpp
	bbclusters           llvm/lib/Target/TargetLoweringObjectFile.cpp
        bbclusters           llvm/test/CodeGen/X86/basicblock-sections.ll
        bbclusters           llvm/test/CodeGen/X86/basicblock-sections-listbb.ll
	bbclusters           llvm/test/CodeGen/X86/basicblock-sections-eh.ll
	bbclusters           llvm/test/CodeGen/X86/basicblock-sections-mir-print.ll
	bbclusters           llvm/test/CodeGen/X86/basicblock-sections-mir-parse.mir
	bbclusters           llvm/test/CodeGen/X86/basicblock-sections-clusters.ll
	bbclusters           llvm/test/CodeGen/X86/basicblock-sections-clusters-error.ll
	bbclusters           llvm/test/CodeGen/X86/basicblock-sections-clusters-eh.ll
	bbclusters           llvm/test/CodeGen/X86/basicblock-sections-clusters-branches.ll
	bbclusters           llvm/test/CodeGen/X86/basicblock-sections-cold.ll
	bbclusters           llvm/test/CodeGen/X86/basicblock-sections-directjumps.ll
	bbclusters           llvm/test/CodeGen/X86/basicblock-sections-list.ll

        exception        llvm/include/llvm/CodeGen/AsmPrinter.h
        cfi              llvm/include/llvm/CodeGen/AsmPrinterHandler.h
        debuginfo        llvm/include/llvm/CodeGen/DebugHandlerBase.h
        cfi              llvm/include/llvm/CodeGen/TargetFrameLowering.h
        debuginfo        llvm/include/llvm/MC/MCAsmInfo.h
        cfi              llvm/include/llvm/MC/MCDwarf.h
        exception        llvm/lib/CodeGen/AsmPrinter/AsmPrinter.cpp
        cfi              llvm/lib/CodeGen/AsmPrinter/AsmPrinter.cpp
        debuginfo        llvm/lib/CodeGen/AsmPrinter/DebugHandlerBase.cpp
        debugassert      llvm/lib/CodeGen/AsmPrinter/DebugLocStream.h
        cfi              llvm/lib/CodeGen/AsmPrinter/DwarfCFIException.cpp
        exception        llvm/lib/CodeGen/AsmPrinter/DwarfCFIException.cpp
        debuginfo        llvm/lib/CodeGen/AsmPrinter/DwarfCompileUnit.cpp
        debuginfo        llvm/lib/CodeGen/AsmPrinter/DwarfDebug.cpp
        cfi              llvm/lib/CodeGen/AsmPrinter/DwarfException.h
        exception        llvm/lib/CodeGen/AsmPrinter/EHStreamer.cpp
        exception        llvm/lib/CodeGen/AsmPrinter/EHStreamer.h
        exception        llvm/lib/CodeGen/AsmPrinter/WasmException.cpp
        exception        llvm/lib/CodeGen/AsmPrinter/WasmException.h
        cfi              llvm/lib/CodeGen/CFIInstrInserter.cpp
        debuginfo        llvm/lib/MC/ELFObjectWriter.cpp
        cfi              llvm/lib/MC/MCDwarf.cpp
        debuginfo        llvm/lib/MC/MCDwarf.cpp
	base_propeller   llvm/include/llvm/ProfileData/BBSectionsProf.h
        cfi              llvm/lib/Target/AArch64/AArch64FrameLowering.h
        #base_reloc       llvm/lib/Target/X86/MCTargetDesc/X86ELFObjectWriter.cpp
        cfi              llvm/lib/Target/X86/X86FrameLowering.cpp
        cfi              llvm/lib/Target/X86/X86FrameLowering.h
        exception        llvm/test/CodeGen/X86/gcc_except_table_basicblock-sections.ll
	exception        llvm/test/CodeGen/X86/gcc_except_table_basicblock-sections_exception_groups_with_cold.ll
        cfi              llvm/test/DebugInfo/X86/basicblock-sections-cfi.ll
        cfi              llvm/test/DebugInfo/X86/basicblock-sections-cfiinstr.ll
        debuginfo        llvm/test/DebugInfo/X86/basicblock-sections_1.ll
#
        /dev/null        lld/CMakeLists.txt
        /dev/null        lld/tools/report-size/CMakeLists.txt
        /dev/null        lld/tools/report-size/PLOELFView.cpp
        /dev/null        lld/tools/report-size/PLOELFView.h
        /dev/null        lld/tools/report-size/report-size.cpp
# Double check:
        /dev/null        llvm/lib/IR/Mangler.cpp
	/dev/null 	 lld/test/ELF/symbol-alignment-file.s
    )
